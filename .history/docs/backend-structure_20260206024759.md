# MatchDO å¾Œå°çµæ§‹èªªæ˜

## ğŸ“‚ ç›®éŒ„çµæ§‹

```
ai-matching/
â”œâ”€â”€ admin/              â­ ç®¡ç†å“¡å¾Œå°ï¼ˆåªæœ‰ç®¡ç†å“¡å¯è¨ªå•ï¼‰
â”‚   â”œâ”€â”€ index.html                  - ç®¡ç†å“¡æ§åˆ¶å°é¦–é 
â”‚   â”œâ”€â”€ user-management.html        - ç”¨æˆ¶ç®¡ç†
â”‚   â”œâ”€â”€ categories.html             - åˆ†é¡ç®¡ç†
â”‚   â””â”€â”€ category-images.html        - åˆ†é¡åœ–ç‰‡ç®¡ç†
â”‚
â”œâ”€â”€ client/             ğŸ‘¤ å®¢æˆ¶ï¼ˆç™¼æ¡ˆè€…ï¼‰å¾Œå°
â”‚   â”œâ”€â”€ dashboard.html              - ç™¼æ¡ˆæ§åˆ¶å°
â”‚   â”œâ”€â”€ my-projects.html            - æˆ‘çš„å°ˆæ¡ˆåˆ—è¡¨
â”‚   â”œâ”€â”€ project-detail.html         - å°ˆæ¡ˆè©³æƒ…
â”‚   â”œâ”€â”€ project-items.html          - åˆ†åŒ…é …ç›®ç®¡ç†ï¼ˆå¾…å»ºç«‹ï¼‰
â”‚   â””â”€â”€ my-custom-products.html     - æˆ‘çš„å®¢è£½ç”¢å“
â”‚
â””â”€â”€ expert/             ğŸ”§ å°ˆå®¶ï¼ˆæ¥æ¡ˆè€…ï¼‰å¾Œå°
    â”œâ”€â”€ dashboard.html              - å°ˆå®¶æ§åˆ¶å°
    â”œâ”€â”€ my-listings.html            - æˆ‘çš„å ±åƒ¹åˆ—è¡¨
    â”œâ”€â”€ matched-projects.html       - åª’åˆåˆ°çš„å°ˆæ¡ˆ
    â””â”€â”€ listing-detail.html         - å ±åƒ¹è©³æƒ…ï¼ˆå¾…å»ºç«‹ï¼‰
```

---

## ğŸ” æ¬Šé™èªªæ˜

### 1. **ç®¡ç†å“¡å¾Œå°** (`/admin/`)
- **è¨ªå•æ¢ä»¶**: 
  - å¿…é ˆç™»å…¥
  - `profiles.role = 'admin'` æˆ– `user_metadata.role = 'admin'`
- **åŠŸèƒ½**:
  - ç®¡ç†æ‰€æœ‰ç”¨æˆ¶
  - ç®¡ç†åˆ†é¡ç³»çµ±
  - ä¸Šå‚³/ç®¡ç†åˆ†é¡åœ–ç‰‡
  - ç³»çµ±è¨­å®š

### 2. **å®¢æˆ¶å¾Œå°** (`/client/`)
- **è¨ªå•æ¢ä»¶**: 
  - å¿…é ˆç™»å…¥
  - ä»»ä½•ç”¨æˆ¶éƒ½å¯è¨ªå•ï¼ˆç™¼æ¡ˆåŠŸèƒ½é–‹æ”¾çµ¦æ‰€æœ‰äººï¼‰
- **åŠŸèƒ½**:
  - ç™¼å¸ƒå°ˆæ¡ˆ
  - ç®¡ç†è‡ªå·±çš„å°ˆæ¡ˆ
  - æŸ¥çœ‹åª’åˆå°ˆå®¶
  - ç®¡ç†åˆ†åŒ…é …ç›®
  - æŸ¥çœ‹è¯çµ¡è³‡è¨Š

### 3. **å°ˆå®¶å¾Œå°** (`/expert/`)
- **è¨ªå•æ¢ä»¶**: 
  - å¿…é ˆç™»å…¥
  - ä»»ä½•ç”¨æˆ¶éƒ½å¯è¨ªå•ï¼ˆæ¥æ¡ˆåŠŸèƒ½é–‹æ”¾çµ¦æ‰€æœ‰äººï¼‰
- **åŠŸèƒ½**:
  - åˆŠç™»å ±åƒ¹
  - ç®¡ç†è‡ªå·±çš„å ±åƒ¹
  - æŸ¥çœ‹åª’åˆå°ˆæ¡ˆ
  - è¯ç¹«å®¢æˆ¶

---

## ğŸ“‹ è¨ªå•è·¯å¾‘æ•´ç†

### ç®¡ç†å“¡å¾Œå°
```
http://localhost:3000/admin/index.html
http://localhost:3000/admin/user-management.html
http://localhost:3000/admin/categories.html
http://localhost:3000/admin/category-images.html
```

### å®¢æˆ¶å¾Œå°
```
http://localhost:3000/client/dashboard.html
http://localhost:3000/client/my-projects.html
http://localhost:3000/client/project-detail.html?id=xxx
http://localhost:3000/client/my-custom-products.html
```

### å°ˆå®¶å¾Œå°
```
http://localhost:3000/expert/dashboard.html
http://localhost:3000/expert/my-listings.html
http://localhost:3000/expert/matched-projects.html
```

---

## ğŸ”„ å°èˆªé¸å–®æ•´ç†

### ä¸€èˆ¬ç”¨æˆ¶ï¼ˆå·²ç™»å…¥ï¼‰
- é¦–é 
- æœå‹™åª’åˆ
- **å°ˆå®¶åŠŸèƒ½** ä¸‹æ‹‰
  - å°ˆå®¶æ§åˆ¶å°
  - æˆ‘çš„å ±åƒ¹
  - åª’åˆå°ˆæ¡ˆ
- **ç™¼æ¡ˆåŠŸèƒ½** ä¸‹æ‹‰
  - ç™¼æ¡ˆæ§åˆ¶å°
  - æˆ‘çš„å°ˆæ¡ˆ
- **å®¢è£½ç”¢å“** ä¸‹æ‹‰
  - å»ºç«‹æ–°ç”¢å“
  - æˆ‘çš„å®¢è£½ç”¢å“
- è¯çµ¡æˆ‘å€‘

### ç®¡ç†å“¡ï¼ˆé¡å¤–é¡¯ç¤ºï¼‰
- **ç®¡ç†åŠŸèƒ½** ä¸‹æ‹‰ â­
  - ç”¨æˆ¶ç®¡ç†
  - åˆ†é¡ç®¡ç†
  - åˆ†é¡åœ–ç‰‡ç®¡ç†

---

## ğŸ”„ å°ˆæ¡ˆç”Ÿå‘½é€±æœŸèˆ‡ç‹€æ…‹

1. **è‰ç¨¿éšæ®µ (Draft)**: é¦–é ç”Ÿæˆ -> å„²å­˜è‡³ã€Œæˆ‘çš„å°ˆæ¡ˆã€ç·¨è¼¯ä¸­åˆ†é ã€‚
2. **ç´°ä¿®éšæ®µ (Editing)**: é€éåˆ—è¡¨å±•é–‹æˆ–é€²å…¥ã€Œå°ˆæ¡ˆè©³æƒ…ã€ä¿®æ”¹æè¿°ã€å‹•æ…‹æ¬„ä½ã€å·¥é …ã€‚
3. **é åª’åˆæ¸¬è©¦ (Pre-match)**: è©³æƒ…é ä¸€éµæŸ¥çœ‹æ½›åœ¨å°ˆå®¶æ•¸é‡ï¼Œç¢ºèªå¸‚å ´è¦æ¨¡ã€‚
4. **ç™¼ä½ˆéšæ®µ (Published)**: é»æ“Šç™¼ä½ˆï¼Œç‹€æ…‹è½‰ç‚º `published`ï¼Œæ­£å¼é€²å…¥åª’åˆå¼•æ“ã€‚

---

## âš ï¸ æ³¨æ„äº‹é …

1. **ç®¡ç†å“¡é é¢å¿…é ˆæª¢æŸ¥æ¬Šé™**
   ```javascript
   const isAdmin = await AuthService.isAdmin();
   if (!isAdmin) {
       alert('âš ï¸ æ‚¨æ²’æœ‰æ¬Šé™è¨ªå•æ­¤é é¢');
       window.location.href = '/';
       return;
   }
   ```

2. **å®¢æˆ¶/å°ˆå®¶é é¢åªéœ€æª¢æŸ¥ç™»å…¥**
   ```javascript
   const user = await AuthService.getCurrentUser();
   if (!user) {
       window.location.href = '/login.html';
       return;
   }
   ```

3. **é›™é‡èº«ä»½ç”¨æˆ¶**
   - æ‰€æœ‰ç”¨æˆ¶éƒ½å¯ä»¥åŒæ™‚ç™¼æ¡ˆå’Œæ¥æ¡ˆ
   - ä¸éœ€è¦åˆ‡æ›è§’è‰²
   - å°èˆªé¸å–®æœƒåŒæ™‚é¡¯ç¤ºå…©é‚ŠåŠŸèƒ½

---

## ğŸ“Š å·²å®Œæˆç‹€æ…‹

### ç®¡ç†å“¡å¾Œå°
- âœ… index.html - ç®¡ç†å“¡æ§åˆ¶å°
- âœ… user-management.html - ç”¨æˆ¶ç®¡ç†
- âœ… categories.html - åˆ†é¡ç®¡ç†
- âœ… category-images.html - åˆ†é¡åœ–ç‰‡ç®¡ç†

### å®¢æˆ¶å¾Œå°
- âœ… dashboard.html - ç™¼æ¡ˆæ§åˆ¶å°
- âœ… my-projects.html - æˆ‘çš„å°ˆæ¡ˆ
- âœ… project-detail.html - å°ˆæ¡ˆè©³æƒ…
- â³ project-items.html - åˆ†åŒ…é …ç›®ç®¡ç†ï¼ˆå¾…å»ºç«‹ï¼‰
- âœ… my-custom-products.html - å®¢è£½ç”¢å“

### å°ˆå®¶å¾Œå°
- âœ… dashboard.html - å°ˆå®¶æ§åˆ¶å°
- âœ… my-listings.html - æˆ‘çš„å ±åƒ¹
- âœ… matched-projects.html - åª’åˆå°ˆæ¡ˆ
- â³ listing-detail.html - å ±åƒ¹è©³æƒ…ï¼ˆå¾…å»ºç«‹ï¼‰

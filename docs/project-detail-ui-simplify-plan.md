# 專案詳情頁（project-detail）UI 簡化規劃

## 一、記錄：偏好與目標

- **偏好**：承包商的媒合頁 **`expert/browse-projects.html`** 的 UI 風格（簡潔、流程清楚）。
- **目標**：發包商的 **`client/project-detail.html`** 元素較多，希望規劃成**像 browse-projects 一樣簡潔清楚**，不改變功能，只調整版面與資訊層級。
- **狀態**：僅規劃與更新文件，**先不寫程式**。

---

## 二、browse-projects 的簡潔點（對照用）

| 特點 | 說明 |
|------|------|
| **單一流程卡** | 最上方一張「流程說明」卡，用 ①→②→③→④ 一句話講完整條流程。 |
| **區塊編號與標題** | 每個區塊有 **粗體小標**（如 ① 報價單、② 預媒合），再底下才是內容。 |
| **區塊順序固定** | 由上而下：流程說明 → ① → ② → ③ → 可操作列表 → ④ 結果列表，不跳躍。 |
| **輕量卡片** | 區塊多用 `card border-0 bg-light` 或 `shadow-sm`，內文 `small`、按鈕 `btn-sm`，視覺不重。 |
| **按需載入** | 列表類（可媒合專案、已媒合到的專案）先給說明 + 一個按鈕，**點擊才載入**，避免一進頁就一堆請求與轉圈。 |
| **單欄為主** | 主要內容單欄、不複雜多欄，閱讀路徑單一。 |

---

## 三、project-detail 現況（為何較複雜）

| 區塊 | 內容 | 複雜點 |
|------|------|--------|
| 專案基本資訊 | 左：封面圖+上傳/AI/預設鈕；右：標題、分類、時間、描述、設計圖、分類專屬需求 | 兩欄、多個 h5/h6、編輯/新增混在一起 |
| 快速操作 | 編輯專案、預媒合測試、管理分包項目、刪除專案 | 四個按鈕橫排，與流程沒有編號對應 |
| 預媒合結果 | 預算合理度／符合專家數／預期回應、說明文、詳細分析 collapse、同類專家標籤 | 一大塊、資訊多，沒有對應到「②」的區塊感 |
| 分包項目管理 | 表格（勾選、批量組成統包、送出媒合）、新增項目、AI 辨識表格 | 表格大、操作多，沒有對應「① 工項」的標題層級 |
| 媒合專家列表 | 已媒合廠商卡片 | 獨立大 card，沒有對應「④」的流程感 |

此外有 **Modal**（編輯項目、線上對話、AI 生成封面），保留不變，只規劃主頁面區塊。

---

## 四、規劃：對齊 browse-projects 的結構

發包端流程與承包商對應關係：

- 承包商：① 報價單 → ② 預媒合 → ③ 媒合 → ④ 已媒合到的專案  
- **發包端**：**① 專案與工項** → **② 預媒合** → **③ 送出媒合** → **④ 已媒合專家**

建議 **project-detail 主內容** 改為下列順序與層級（功能不刪、只重排與收斂視覺）：

### 4.1 最上方：流程說明卡（新增／改寫）

- 一張卡，標題如「流程說明（與承包商端對應）」。
- 內文一句話：**① 專案與工項**（下方編輯專案與分包項目）→ **② 預媒合**：勾選工項後試算符合度 → **③ 送出媒合**：勾選後送出 → **④ 已媒合專家**：列表在頁面下方。

### 4.2 ① 專案與工項

- **小標**：`① 專案與工項`
- **內容**：
  - **專案概要**：標題、分類、建立時間、狀態（可收斂成一行或兩行，必要時保留封面小圖或收合）。
  - **描述與設計圖**：描述一段；設計圖可預設收合（collapse）或縮為「有 N 張圖」點擊展開。
  - **分類專屬需求**：有資料再顯示，可預設收合。
  - **分包項目表格**：維持現有表格與勾選、批量操作（組成統包、送出媒合），但視覺上歸在「①」底下，標題改為「分包項目」即可，不另做大 card 標。
- **操作**：「編輯專案」「管理分包項目」「新增項目」可放在此區塊內或區塊標題列，風格對齊 browse 的 `btn-sm`。

### 4.3 ② 預媒合

- **小標**：`② 預媒合`
- **內容**：與現在相同（勾選工項後點「預媒合測試」），但區塊改為 **輕量 card**（如 `card border-0 bg-light`），內文 `small`。
- **預媒合結果**：維持預算合理度／符合專家數／預期回應；「詳細分析」與「同類專家標籤」**預設收合**，減少一進頁的視覺量。
- 不新增功能，只收斂樣式與預設收合。

### 4.4 ③ 送出媒合

- **小標**：`③ 送出媒合`
- **內容**：簡短說明（例如：勾選要發包的工項後，點下方表格的「送出媒合」或本區的按鈕）。若「送出媒合」按鈕在分包項目表格上方／下方已存在，此區可只做**說明 + 導引**（如：請在「① 專案與工項」的表格勾選項目後，使用該區的「送出媒合」），避免重複按鈕造成混亂。

### 4.5 ④ 已媒合專家

- **小標**：`④ 已媒合專家`
- **內容**：與 browse 的「④ 已媒合到的專案」對齊：先顯示**簡短說明** + **一個按鈕**「顯示已媒合專家」（或「載入已媒合廠商」），**點擊後再載入**列表；列表維持現有卡片樣式即可。
- 可選：若後端支援，第一次進入專案詳情時不自動載入媒合列表，減少初始請求與轉圈。

### 4.6 其他

- **刪除專案**：可放在流程說明卡右下或「① 專案與工項」區塊的次要按鈕（outline-danger），不佔主流程視覺。
- **Modal**：編輯項目、線上對話、AI 生成封面維持不變。
- **快速操作列**：可考慮收斂為「編輯專案」「預媒合」「送出媒合」的入口說明，實際按鈕分散到 ①／②／③ 對應區塊，減少頂部一長排按鈕。

---

## 五、實作時注意（日後寫程式時）

- 不刪除既有 **id** 與 **onclick**，方便既有 JS 綁定。
- 區塊標題可用 **同一 class**（如 `.section-label`）統一樣式，與 browse-projects 的 `mb-2` + `strong` 對齊。
- 收合區塊使用 Bootstrap **collapse**，預設 `collapse`（關閉），需要時再展開。
- 「④ 已媒合專家」改為按鈕觸發載入時，需保留目前「已載入過則可快取或自動顯示」的邏輯，避免重複請求。

---

## 六、對照摘要

| 項目 | browse-projects（承包商） | project-detail 規劃後（發包商） |
|------|---------------------------|----------------------------------|
| 頂部 | 一張流程說明卡 | 一張流程說明卡（① 專案與工項 → ② 預媒合 → ③ 送出媒合 → ④ 已媒合專家） |
| 區塊 | ① ② ③ ④ 小標 + 輕量 card | 同上，小標 + 輕量 card，次要區塊預設收合 |
| 列表 | 按鈕後載入 | ④ 已媒合專家改為按鈕後載入（可選） |
| 視覺 | 單欄、small、btn-sm | 單欄為主、收斂兩欄為概要、small/btn-sm 為主 |

以上為規劃，實作時再依此調整 HTML 結構與 class，不新增功能、只簡化版面與流程感。
